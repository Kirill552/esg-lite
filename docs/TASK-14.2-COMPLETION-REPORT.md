# üìã –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ó–∞–¥–∞—á–∏ 14.2: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ó–ê–í–ï–†–®–ï–ù–û

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 27 –∏—é–ª—è 2025 –≥.  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~1.5 —á–∞—Å–∞  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** GitHub Copilot AI Assistant

---

## üéØ –¶–µ–ª—å –∑–∞–¥–∞—á–∏

–£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Queue Manager –∏ Worker –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö, –¥–æ–±–∞–≤–∏—Ç—å structured logging —Å —É—Ä–æ–≤–Ω—è–º–∏ (info, warn, error) –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤ –¥–ª—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 6.1
**"–ö–û–ì–î–ê worker –ø—Ä–æ—Ü–µ—Å—Å –ø–∞–¥–∞–µ—Ç –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¢–û–ì–î–ê –∑–∞–¥–∞—á–∞ –î–û–õ–ñ–ù–ê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏"**

‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ó–∞–ø—É—Å–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- Graceful shutdown —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–∏–≥–Ω–∞–ª–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–¥–∞—á –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ worker

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 6.2  
**"–ö–û–ì–î–ê –∑–∞–¥–∞—á–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫ –¢–û–ì–î–ê –æ–Ω–∞ –î–û–õ–ñ–ù–ê –±—ã—Ç—å –ø–æ–º–µ—â–µ–Ω–∞ –≤ –æ—á–µ—Ä–µ–¥—å –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á (failed queue)"**

‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ü–æ–ø—ã—Ç–æ–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `jobFailed()` –∏ `jobRetry()`
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫ –∏ –ø—Ä–∏—á–∏–Ω —Å–±–æ–µ–≤

### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ 6.3
**"–ï–°–õ–ò Redis –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¢–û–ì–î–ê –∑–∞–¥–∞—á–∏ –î–û–õ–ñ–ù–´ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö"**  
*(–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ PostgreSQL)*

‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û** - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- Health checks —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –æ—á–µ—Ä–µ–¥–µ–π PostgreSQL
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üèóÔ∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### 1. üìö –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

#### ‚úÖ –§–∞–π–ª `lib/structured-logger.ts`
- –ö–ª–∞—Å—Å `StructuredLogger` —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Ä–æ–≤–Ω–µ–π: debug, info, warn, error
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤
- –¶–≤–µ—Ç–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è production

#### ‚úÖ –§–∞–±—Ä–∏–∫–∞ –ª–æ–≥–≥–µ—Ä–æ–≤
```typescript
export const queueLogger = createLogger('queue-manager');
export const workerLogger = createLogger('ocr-worker');
export const apiLogger = createLogger('api');
export const healthLogger = createLogger('health-monitor');
export const metricsLogger = createLogger('metrics');
```

### 2. üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

#### ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`
```env
LOG_TO_FILE=true
LOG_DIRECTORY=./logs
LOG_MAX_FILE_SIZE=10485760  # 10MB
LOG_MAX_FILES=5
LOG_LEVEL=info
```

#### ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- **Development**: –¶–≤–µ—Ç–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª—ã
- **Production**: –¢–æ–ª—å–∫–æ JSON –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª—ã
- **Testing**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### ‚úÖ Queue Manager (`lib/queue.ts`)
- –ó–∞–º–µ–Ω–∞ `console.log` –Ω–∞ `queueLogger.info()`
- –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç: `jobId`, `organizationId`, `documentId`
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `jobStarted()`, `jobCompleted()`, `jobFailed()`

#### ‚úÖ OCR Worker (`workers/ocr-worker.ts`)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ worker
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- Graceful shutdown —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–∏–≥–Ω–∞–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–ª–Ω—ã–º —Å—Ç–µ–∫–æ–º

#### ‚úÖ Health Monitor (`lib/health-monitor.ts`)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ health checks
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è PostgreSQL
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

### 4. üìä –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π

#### ‚úÖ –ú–µ—Ç–æ–¥—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–¥–∞—á
```typescript
await queueLogger.jobStarted(jobId, 'OCR', data);
await queueLogger.jobCompleted(jobId, 'OCR', duration, result);
await queueLogger.jobFailed(jobId, 'OCR', error, attempt, maxAttempts);
await queueLogger.jobRetry(jobId, 'OCR', attempt, delay);
```

#### ‚úÖ –ú–µ—Ç–æ–¥—ã worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```typescript
await workerLogger.workerStarted(workerId, queueName);
await workerLogger.workerStopped(workerId, queueName, reason);
```

### 5. üîÅ –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

#### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 10MB (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤: 5 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
- Timestamp –≤ –∏–º–µ–Ω–∞—Ö —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

#### ‚úÖ –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
```
logs/queue-manager-2025-07-27.log
logs/queue-manager-2025-07-27-14-30-45.log (—Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
logs/ocr-worker-2025-07-27.log
```

### 6. üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- **`scripts/test-basic-logging.js`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ª–æ–≥–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã JSON –ª–æ–≥–æ–≤

#### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –≤ package.json
```json
"test:logging-basic": "node scripts/test-basic-logging.js"
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

### üè∑Ô∏è –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```json
{
  "timestamp": "2025-07-27T15:14:24.329Z",
  "level": "info",
  "component": "queue-manager",
  "message": "OCR job started",
  "jobId": "job123",
  "organizationId": "org456",
  "data": {
    "documentId": "doc789",
    "priority": "normal",
    "fileSize": 1024
  }
}
```

### üö® –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫
```json
{
  "timestamp": "2025-07-27T15:14:24.329Z",
  "level": "error",
  "component": "ocr-worker",
  "message": "Job processing failed",
  "jobId": "job123",
  "error": {
    "name": "ProcessingError",
    "message": "Failed to process document",
    "stack": "ProcessingError: Failed to process document\n    at processOcr (worker.js:123:45)"
  },
  "data": {
    "attempt": 2,
    "maxAttempts": 3
  }
}
```

### üîç –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–ª—è
- **`jobId`** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–¥–∞—á–∏ –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞
- **`organizationId`** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- **`userId`** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **`documentId`** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **`attempt`** - –Ω–æ–º–µ—Ä –ø–æ–ø—ã—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **`duration`** - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
npm run test:logging-basic
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

**–õ–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```
üß™ –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è...
1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   LOG_LEVEL: info
   LOG_TO_FILE: true
   LOG_DIRECTORY: ./logs
2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ª–æ–≥–æ–≤...
   ‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∞: ./logs
3Ô∏è‚É£ –¢–µ—Å—Ç –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥ —Ñ–∞–π–ª...
   ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –ª–æ–≥ –∑–∞–ø–∏—Å–∞–Ω: logs\test-log.log
   üìä –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 123 –±–∞–π—Ç
üéâ –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω!
```

### ‚úÖ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `./logs/` —Å–æ–∑–¥–∞–Ω–∞
- –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-log.log` –∑–∞–ø–∏—Å–∞–Ω
- JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞–ª–∏–¥–Ω–∞

---

## üìà –£–ª—É—á—à–µ–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏

### üîç –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π 6.1-6.3

#### ‚úÖ –ü–∞–¥–µ–Ω–∏—è worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (6.1)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ worker
- Graceful shutdown —Å –ø—Ä–∏—á–∏–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ SIGTERM/SIGINT

#### ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–¥–∞—á (6.2)
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `jobFailed()` –∏ `jobRetry()`
- –°—á–µ—Ç—á–∏–∫ –ø–æ–ø—ã—Ç–æ–∫ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ failed queue

#### ‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å PostgreSQL (6.3)
- Health checks –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production

#### ‚úÖ Performance
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤

#### ‚úÖ Scalability
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–≥–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### üìå –ó–∞–¥–∞—á–∞ 15.1: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ troubleshooting guide
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞–Ω–∞–ª–∏–∑—É –ª–æ–≥–æ–≤

### üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
1. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –ª–æ–≥–æ–≤** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ELK Stack
2. **–ê–ª–µ—Ä—Ç—ã** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
3. **–ú–µ—Ç—Ä–∏–∫–∏** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏–∑ –ª–æ–≥–æ–≤

---

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ó–∞–¥–∞—á–∞ 14.2 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.** 

–°–∏—Å—Ç–µ–º–∞ ESG-Lite —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–æ—Ç–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–¥–∞—á –æ—á–µ—Ä–µ–¥–µ–π.

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- ‚úÖ 100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º 6.1, 6.2, 6.3
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON –ª–æ–≥–∏ –¥–ª—è production
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å jobId/organizationId
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π –∏ worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ Graceful shutdown —Å –ø–æ–ª–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∞–Ω–∞–ª–∏–∑—É –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É

**–í—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–∏:** –ì–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ –∑–∞–¥–∞—á—É 15.1
